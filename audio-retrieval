# Audio PCM Retrieval

## APIs

#### public float[][] GetAudioData(int playerIndex, int sampleSizePerChannel)
Get the audio PCM data of each channel in float array. The order of the channel is the same as the order of the stream's audio channel layout, e.g. C L R Ls Rs. The **playerIndex** is the index of the player in multistream properties, the **sampleSizePerChannel** is the requested data size of each audio channel. Please use this API when **UnityAudio** is set to true.

#### public void FillAudioData(int playerIndex, float[] audioData, int channelIndex)
Fill the audio buffer with new audio PCM data. The **playerIndex** is the index of the player in multistream properties. The **audioData** is the audio buffer that will be filled with new audio data. The **channelIndex** is the index of the audio channel. The order of the channel index must be the same as the order of the stream's audio channel layout, e.g. C=0, L=1, R=2, Ls=3, Rs=4. Please use this API when **UnityAudio** is set to true.

To get the audio data, itâ€™s required to set **UnityAudio** property to True through Unity editor or script, and you can choose either using **GetAudioData** or **FillAudioData** API. 
Please refer to the sample package which consists of the following Unity scenes:
- HISPlayerOVROverlayFillAudioSample: Sample utilizing FillAudioData API by passing the float[] data from each Unity Audio Source OnAudioFilterRead which the data buffer will be filled automatically. To check the APIs usage, please refer to all scripts in HISPlayerMetaQuestSample\Scripts\Sample\Audio\FillAudioSample.
- HISPlayerOVROverlayGetAudioSample: Sample utilizing GetAudioData API in Unity Audio Source OnAudioFilterRead for center channel, and the new audio data is shared to other channel classes. The new audio data will be copied to the float[] data of OnAudioFilterRead for each channel. To check the APIs usage, please refer to all scripts in HISPlayerMetaQuestSample\Scripts\Sample\Audio\GetAudioSample.
